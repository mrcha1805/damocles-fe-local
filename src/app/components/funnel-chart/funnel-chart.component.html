<div class="container">
    <div class="grid-funnel" cdkDropList (cdkDropListDropped)="drop($event)">
        <!-- <div fxLayoutAlign="end start" class="funnel-clear">
            Clear All
        </div> -->
        <div class="row funnel-box" *ngFor="let item of funnelList; let i = index, let j = index" cdkDrag>
            <div class="col-6 dragdrop" fxLayoutAlign="center center" fxLayoutAlign.gt-sm="center center">
                <span [popper]="popperContent" [popperTrigger]="triggers.hover" [popperModifiers]="offsetModifiers"
                    [popperPlacement]="placements.TOP">
                    <mat-card [ngClass]="{BGfunnel0: i == 0, BGfunnel1: i == 1, BGfunnel2: i == 2, BGfunnel3: i == 3, BGfunnel4: i == 4, 
                        BGfunnel5: i == 5, BGfunnel6: i == 6, BGfunnel7: i == 7, BGfunnel8: i == 8, BGfunnel9: i >= 9}"
                        [ngStyle]="setStyleChart(item)" >
                    </mat-card>
                </span>
            </div>

            <div class="col-6 row">
                <div class="col-8 funnel-feature">{{item.feature}}</div>
                <div class="col-4 funnel-value" fxLayoutAlign="end center">{{addCommaIntoNumber(item.sum)}}</div>
            </div>
            <popper-content #popperContent>
                    <span class="popper-header">{{ item.feature }}</span>
 
                    <div class="row popper-detail" *ngFor="let data of item.data;let i = index;">
                        <span class="col-4">{{data.item}}</span><br />
                        <span class="col-8 text-start">{{percentage(data.value, item.sum)}}</span>
                    </div>
                    <!-- <div class="row popper-detail">
                        <span class="col-4">35 - 44</span><br />
                        <span class="col-8 text-start">Count : 20,000,000 (50%)</span>
                    </div> -->
            </popper-content>
        </div>
    </div>
</div>