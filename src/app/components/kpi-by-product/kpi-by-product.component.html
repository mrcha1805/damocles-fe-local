<app-navbar-logo></app-navbar-logo>

<div fxLayout="row" class="grid-item viewport">
    <div fxLayout="column" fxFlex>
        <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="center start" fxLayoutAlign.sm="center center"
            fxLayoutAlign.xs="center center" fxLayout fxFlex>
            <div fxLayoutAlign="center center" fxLayoutAlign.gt-sm="end center" class="grid-item-layout py-3">
                <div fxLayout="column" fxLayoutAlign="center center" class="text-center">
                    <div class="my-2">
                        <img src="./assets/icons/kpi-by-product.svg" width="180" />
                    </div>
                    <span class="font-32px">You looking for</span>
                    <span class="font-64px">
                        <font class="font-blue">KPI</font> by Product?
                    </span>
                    <span class="font-18px">Can you tell me a little more about your industry.</span>
                </div>
            </div>
            <div fxLayout="column" fxLayoutAlign="center center" fxLayoutAlign.gt-sm="center center"
                class="grid-item-layout p-5">
                <div fxLayout="column" class="grid-item-layout kpi-layout text-start px-3">
                    <article class="grid-item-layout-collapse mb-2 mt-3"
                        *ngFor="let item of industryData?.resultData; let i = index" [ngStyle]="setBorderCollapsed(i)">
                        <img src="./assets/icons/expand-selected.svg" width="24" class="expand-selected"
                            [ngStyle]="setIconSelected(i)" [@openClose]="helpMenuOpen" />
                        <div class="collapse-title card-selected" (click)="collapsed(i)" (click)="toggleHelpMenu()"
                            fxLayoutGap="250">
                            <div fxLayout="row" fxLayoutGap="20" class="grid-item-layout-collapse">
                                <div class="grid-item-layout-collapse" fxLayoutAlign="center center">
                                    <img [src]="getDefaultImage(item.industry_name)" width="50" />
                                </div>
                                <div fxLayout="column" class="grid-item-layout-collapse px-3">
                                    <span class="font-32px p-1">
                                        {{ item.industry_name }}
                                        &nbsp;
                                        <!-- <span [popper]="popperContent" [popperTrigger]="triggers.hover"
                                            [popperModifiers]="offsetModifiers" [popperPlacement]="placements.RIGHT">
                                            <img src="./assets/icons/info.svg" width="20" height="20" />
                                        </span> -->
                                    </span>
                                    <popper-content #popperContent>
                                        <span>{{ item.industry_descript }}</span><br />
                                    </popper-content>
                                    <span class="font-16px p-1">{{ item.industry_descript }}</span>
                                </div>
                                <div class="collapse-test">
                                    <div fxLayoutGap="20">
                                        <img class="collapse-icon" src="./assets/icons/arrow_collapse.svg" alt="plus-icon"
                                            [ngStyle]="{'transform': isCollapsed == i ? 'rotateZ(90deg)' : 'rotateZ(0deg)'}">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div [ngStyle]="setStyleCollapsed(i)" [@openClose]="helpMenuOpen">
                            <div fxLayout="row" fxLayoutGap="20" class="grid-item-layout-collapse collapse-sub-title">
                                <div class="grid-item-layout-collapse">
                                    <img width="50" />
                                </div>
                                <div fxLayout="column" class="collapse-effect" fxFlex>
                                    <div class="grid-item-layout-collapse" [id]="'collapseViewMore-' + i"
                                        [collapse]="i !== isCollapsed">
                                        <div class="py-1" *ngFor="let data of item.product; let j = index">
                                            <div fxLayout="row" class="grid-item-layout">
                                                <mat-checkbox fxFlex="85" [(ngModel)]="data.isSelected"
                                                    (change)="changeSelected(i, j)">
                                                    <span class="font-16px">{{ data.product_name }}</span>
                                                </mat-checkbox>
                                                &nbsp;
                                                <div fxLayoutAlign="end center" fxFlex>
                                                    <span [popper]="popperContent_sub" [popperTrigger]="triggers.hover"
                                                        [popperModifiers]="offsetModifiers"
                                                        [popperPlacement]="placements.TOP">
                                                        <img src="./assets/icons/info.svg" width="18" height="18" />
                                                    </span>
                                                </div>
                                            </div>
                                            <div *ngIf="j !== item.product.length - 1"
                                                class="border-bottom-dashed py-1">
                                            </div>
                                            <popper-content #popperContent_sub>
                                                <span>{{ data.product_description }}</span><br />
                                            </popper-content>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
                <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20" fxLayoutAlign="center center" class="my-4"
                    style="padding: 0px 4rem;">
                    <button class="btn btn-light font-24back" (click)="goCreateProject()">
                        <img src=" ./assets/icons/arrow-left.svg" class="icon-back" />
                        Back
                    </button>
                    <button class="btn btn-blue font-24next" (click)="goCreateKpi()">
                        Next
                        <img src="./assets/icons/arrow-right.svg" class="icon-next" />
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<ngx-spinner size="medium" [type]="typeSelected"></ngx-spinner>